(function(g){var window=this;'use strict';var n9=function(M,f){g.O.call(this,{S:"button",Ai:["ytp-miniplayer-expand-watch-page-button","ytp-button","ytp-miniplayer-button-top-left"],D:{title:"{{title}}","data-tooltip-target-id":"ytp-miniplayer-expand-watch-page-button","aria-keyshortcuts":"i","data-title-no-tooltip":"{{data-title-no-tooltip}}"},L:[{S:"svg",D:{height:"24px",version:"1.1",viewBox:"0 0 24 24",width:"24px"},L:[{S:"g",D:{fill:"none","fill-rule":"evenodd",stroke:"none","stroke-width":"1"},L:[{S:"g",D:{transform:"translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000) "},
L:[{S:"path",D:{d:"M19,19 L5,19 L5,5 L12,5 L12,3 L5,3 C3.89,3 3,3.9 3,5 L3,19 C3,20.1 3.89,21 5,21 L19,21 C20.1,21 21,20.1 21,19 L21,12 L19,12 L19,19 Z M14,3 L14,5 L17.59,5 L7.76,14.83 L9.17,16.24 L19,6.41 L19,10 L21,10 L21,3 L14,3 Z",fill:"#fff","fill-rule":"nonzero"}}]}]}]}]});this.U=M;this.listen("click",this.onClick,this);this.updateValue("title",g.ie(M,"Expand","i"));this.update({"data-title-no-tooltip":"Expand"});this.addOnDisposeCallback(g.gx(f.Wu(),this.element))},UW0=function(M){g.O.call(this,
{S:"div",
Y:"ytp-miniplayer-ui"});this.G=!1;this.player=M;this.J(M,"minimized",this.gL);this.J(M,"onStateChange",this.HWJ);this.J(M,"documentpictureinpicturechange",this.txY)},VQK=function(M,f){g.Sb(M.player.getRootNode(),"ytp-player-minimized",f)},ak7=function(M){g.CV.call(this,M);
this.Z=new g.yK(this);this.K=new UW0(this.player);this.K.hide();g.$X(this.player,this.K.element,4);M.isMinimized()&&(this.load(),g.Sb(M.getRootNode(),"ytp-player-minimized",!0))};
g.U(n9,g.O);n9.prototype.onClick=function(){this.U.T0("onExpandMiniplayer")};g.U(UW0,g.O);g.C=UW0.prototype;
g.C.show=function(){this.K=new g.la(this.m0,null,this);this.K.start();if(!this.G){this.tooltip=new g.BQ(this.player,this);g.d(this,this.tooltip);g.$X(this.player,this.tooltip.element,4);this.tooltip.scale=.6;this.N3=new g.Xl(this.player);g.d(this,this.N3);this.progressBar=new g.dK(this.player,this);g.d(this,this.progressBar);g.$X(this.player,this.progressBar.element,4);this.Z=new g.O({S:"div",Y:"ytp-miniplayer-scrim"});g.d(this,this.Z);this.Z.pJ(this.element);this.J(this.Z.element,"click",this.HS);
var M=new g.O({S:"button",Ai:["ytp-miniplayer-close-button","ytp-button"],D:{"aria-label":"Close"},L:[g.Re()]});g.d(this,M);M.pJ(this.Z.element);this.J(M.element,"click",this.oe);M=new n9(this.player,this);g.d(this,M);M.pJ(this.Z.element);this.j=new g.O({S:"div",Y:"ytp-miniplayer-controls"});g.d(this,this.j);this.j.pJ(this.Z.element);this.J(this.j.element,"click",this.HS);var f=new g.O({S:"div",Y:"ytp-miniplayer-button-container"});g.d(this,f);f.pJ(this.j.element);M=new g.O({S:"div",Y:"ytp-miniplayer-play-button-container"});
g.d(this,M);M.pJ(this.j.element);var A=new g.O({S:"div",Y:"ytp-miniplayer-button-container"});g.d(this,A);A.pJ(this.j.element);this.X=new g.n1(this.player,this,!1);g.d(this,this.X);this.X.pJ(f.element);f=new g.Pe(this.player,this);g.d(this,f);f.pJ(M.element);this.nextButton=new g.n1(this.player,this,!0);g.d(this,this.nextButton);this.nextButton.pJ(A.element);this.W=new g.U$(this.player,this,0);g.d(this,this.W);this.W.pJ(this.Z.element);this.C=new g.O({S:"div",Y:"ytp-miniplayer-buttons"});g.d(this,
this.C);g.$X(this.player,this.C.element,4);M=new g.O({S:"button",Ai:["ytp-miniplayer-close-button","ytp-button"],D:{"aria-label":"Close"},L:[g.Re()]});g.d(this,M);M.pJ(this.C.element);this.J(M.element,"click",this.oe);M=new g.O({S:"button",Ai:["ytp-miniplayer-replay-button","ytp-button"],D:{"aria-label":"Close"},L:[g.rb()]});g.d(this,M);M.pJ(this.C.element);this.J(M.element,"click",this.vC$);M=new n9(this.player,this);g.d(this,M);M.pJ(this.C.element);this.J(this.player,"presentingplayerstatechange",
this.oB);this.J(this.player,"appresize",this.Tt);this.J(this.player,"fullscreentoggled",this.Tt);this.Tt();this.G=!0}this.player.getPlayerState()!==0&&g.O.prototype.show.call(this);this.progressBar.show();this.player.unloadModule("annotations_module")};
g.C.hide=function(){this.K&&(this.K.dispose(),this.K=void 0);g.O.prototype.hide.call(this);this.player.isMinimized()||(this.G&&this.progressBar.hide(),this.player.loadModule("annotations_module"))};
g.C.u8=function(){this.K&&(this.K.dispose(),this.K=void 0);g.O.prototype.u8.call(this)};
g.C.oe=function(){this.player.V("kevlar_watch_while_v2")||this.player.stopVideo();this.player.T0("onCloseMiniplayer")};
g.C.vC$=function(){this.player.playVideo()};
g.C.HS=function(M){if(M.target===this.Z.element||M.target===this.j.element)this.player.getPlayerStateObject().isOrWillBePlaying()?this.player.pauseVideo():this.player.playVideo()};
g.C.gL=function(){VQK(this,this.player.isMinimized())};
g.C.txY=function(){VQK(this,this.player.O3());g.Sb(this.player.getRootNode(),"ytp-player-document-picture-in-picture",this.player.O3())};
g.C.wf=function(){this.progressBar.z_();this.W.z_()};
g.C.m0=function(){this.wf();this.K&&this.K.start()};
g.C.oB=function(M){g.J(M.state,32)&&this.tooltip.hide()};
g.C.Tt=function(){var M=this.player.ax().getPlayerSize().width;g.bP6(this.progressBar,0,M,!1);g.ef(this.progressBar)};
g.C.HWJ=function(M){this.player.isMinimized()&&(M===0?this.hide():this.show())};
g.C.Wu=function(){return this.tooltip};
g.C.ws=function(M,f,A,Q,N){var Y=0,I=0,D=0,E=g.J9(M);Q=f&&(g.ED(f,"ytp-prev-button")||g.ED(f,"ytp-next-button"));if(f){A=g.ED(f,"ytp-play-button");var t=g.ED(f,"ytp-miniplayer-expand-watch-page-button");Q?Y=D=12:A?(f=g.Oc(f,this.element),D=f.x,Y=f.y-12):t&&(D=g.ED(f,"ytp-miniplayer-button-top-left"),Y=g.Oc(f,this.element),f=g.J9(f),D?(D=8,Y=Y.y+40):(D=Y.x-E.width+f.width,Y=Y.y-20))}else D=A-E.width/2,I=25+(N||0);f=this.player.ax().getPlayerSize();N=Y+(N||0);E=g.ih(D,0,f.width-E.width-12);N?(M.style.top=
N+"px",M.style.bottom=""):(M.style.top="",M.style.bottom=I+"px");M.style.left=E+"px";I=g.ED(M,"ytp-preview");M.style.visibility=Q&&I&&f.height<225?"hidden":""};g.U(ak7,g.CV);g.C=ak7.prototype;g.C.onVideoDataChange=function(){if(this.player.getVideoData()){var M=this.player.getVideoAspectRatio(),f=16/9;M=M>f+.1||M<f-.1;g.Sb(this.player.getRootNode(),"ytp-rounded-miniplayer-not-regular-wide-video",M)}};
g.C.create=function(){g.CV.prototype.create.call(this);this.Z.J(this.player,"videodatachange",this.onVideoDataChange);this.onVideoDataChange()};
g.C.Tv=function(){return!1};
g.C.load=function(){this.player.hideControls();this.K.show()};
g.C.unload=function(){this.player.showControls();this.K.hide()};g.oW("miniplayer",ak7);})(_yt_player);

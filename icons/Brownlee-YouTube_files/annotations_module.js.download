(function(g){var window=this;'use strict';var gW=function(M){M.publish("cardstatechange",M.kP()&&M.R_()?1:0)},Bn=function(M,f){var A=g.AB(f),Q=A?f:arguments;
for(A=A?0:1;A<Q.length;A++){if(M==null)return;M=M[Q[A]]}return M},An9=function(M){var f=g.WC(M);
M=g.J9(M);return new g.zM(f.x,f.y,M.width,M.height)},QkC=function(M,f,A){var Q=Q===void 0?{}:Q;
var N;return N=g.R0(M,f,function(){g.g$(N);A.apply(M,arguments)},Q)},Zi=function(M){M=g.Ye(M);
delete iu[M];g.MV(iu)&&xK&&xK.stop()},YdB=function(){xK||(xK=new g.MY(function(){NsC()},20));
var M=xK;M.isActive()||M.start()},NsC=function(){var M=g.EB();
g.ew(iu,function(f){IPe(f,M)});
g.MV(iu)||YdB()},rW=function(M,f,A,Q){g.L5.call(this);
if(!Array.isArray(M)||!Array.isArray(f))throw Error("Start and end parameters must be arrays");if(M.length!=f.length)throw Error("Start and end points must be the same length");this.Z=M;this.W=f;this.duration=A;this.N=Q;this.coords=[];this.progress=this.G=0;this.C=null},IPe=function(M,f){f<M.startTime&&(M.endTime=f+M.endTime-M.startTime,M.startTime=f);
M.progress=(f-M.startTime)/(M.endTime-M.startTime);M.progress>1&&(M.progress=1);M.G=1E3/(f-M.C);M.C=f;Tsm(M,M.progress);M.progress==1?(M.K=0,Zi(M),M.onFinish(),M.EW()):M.isPlaying()&&M.uf()},Tsm=function(M,f){typeof M.N==="function"&&(f=M.N(f));
M.coords=Array(M.Z.length);for(var A=0;A<M.Z.length;A++)M.coords[A]=(M.W[A]-M.Z[A])*f+M.Z[A]},DM7=function(M,f){g.wi.call(this,M);
this.coords=f.coords;this.x=f.coords[0];this.y=f.coords[1];this.z=f.coords[2];this.duration=f.duration;this.progress=f.progress;this.fps=f.G;this.state=f.K},uu=function(M,f,A,Q,N){rW.call(this,f,A,Q,N);
this.element=M},EYv=function(M,f,A,Q,N){if(f.length!=2||A.length!=2)throw Error("Start and end points must be 2D");
uu.call(this,M,f,A,Q,N)},taR=function(M){return Math.pow(M,3)},vY9=function(M){return 3*M*M-2*M*M*M},pER=function(M){g.y.call(this);
this.Z=M||window;this.K=[]},z4=function(M){return M.baseUrl||null},Pn=function(M,f){return g.Pw(g.WP(M,f),function(A){return!!A})},hEW=function(M,f,A){function Q(Y9){var Mc=Y9.hovercardButton;
if(!Mc)return null;Mc=Mc.subscribeButtonRenderer;if(!Mc)return null;var E0=Y(Mc.unsubscribedButtonText),w=Y(Mc.subscribedButtonText);if(Mc.subscribed){var m6=Y(Mc.subscriberCountWithUnsubscribeText);var BX=Y(Mc.subscriberCountText)}else m6=Y(Mc.subscriberCountText),BX=Y(Mc.subscriberCountWithSubscribeText);var WX=null;if(Y9.signinEndpoint){WX=Bn(Y9,"signinEndpoint","webNavigationEndpointData","url");if(!WX){var g7,vK;WX=(vK=g.b((g7=Mc.signInEndpoint)==null?void 0:g7.commandMetadata,g.aw))==null?void 0:
vK.url}if(!WX)return null}return E0&&(w||WX)?{subscribed:Mc.subscribed,subscribeText:E0,subscribeCount:m6,unsubscribeText:w,unsubscribeCount:BX,enabled:Mc.enabled,signinUrl:WX,classic:Y9.useClassicSubscribeButton}:null}
function N(Y9){if(Y9){var Mc=[],E0=Y9.videoId;E0&&Mc.push("v="+E0);(E0=Y9.playlistId)&&Mc.push("list="+E0);(Y9=Y9.startTimeSeconds)&&Mc.push("t="+Y9);return"/watch?"+Mc.join("&")}}
function Y(Y9){if(!Y9)return null;var Mc=Y9.simpleText;return Mc?Mc:Y9.runs?g.WP(Y9.runs,function(E0){return E0.text}).join(""):null}
f=f.endscreenElementRenderer;if(!f)return null;var I=f.style,D=f.endpoint||{},E=null,t=null,v=!1,p=null,h=null,S=null,L=null,a=!1,q=null,m=null,R=null,u=null,z=null,e=null;if(I==="VIDEO")g.b(D,g.db)?E=g.b(D,g.db).url:(e=g.b(D,g.N5),E=N(e)),t=!1,p=M,f.thumbnailOverlays?(v=f.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,h=Y(v.text),v=v.style==="LIVE"):h=Y(f.videoDuration);else if(I==="PLAYLIST")g.b(D,g.db)?E=g.b(D,g.db).url:(e=g.b(D,g.N5),E=N(e)),t=!1,p=M,S=Y(f.playlistLength);else if(I===
"CHANNEL"){if(a=Bn(D,"browseEndpoint","browseId"))L=a,E="/channel/"+L;t=!1;p="new";(a=!!f.isSubscribe)?q=Q(f):m=Y(f.subscribersText)}else I==="WEBSITE"?((R=Bn(D,"urlEndpoint","url"))&&(E=R),t=!0,p="new",R=f.icon.thumbnails[0].url):I==="CREATOR_MERCHANDISE"&&(f.productPrice&&(u=Y(f.productPrice)),f.additionalFeesText&&(z=Y(f.additionalFeesText)),(t=Bn(D,"urlEndpoint","url"))&&(E=t),t=!0,p="new");M=Bn(f,"title","accessibility","accessibilityData","label");var G=f.endpoint?f.endpoint.clickTrackingParams:
null,X="";if(f.metadata){var Qt=Y(f.metadata);Qt&&(X=Qt)}return{id:"element-"+A,type:I,title:Y(f.title),metadata:X,callToAction:Y(f.callToAction),cw:f.image,iconUrl:R,left:Number(f.left),width:Number(f.width),top:Number(f.top),aspectRatio:Number(f.aspectRatio),startMs:Math.floor(Number(f.startMs)),endMs:Math.floor(Number(f.endMs)),videoDuration:h,j9:v,playlistLength:S,channelId:L,subscribeButton:q,subscribersText:m,isSubscribe:a,targetUrl:E||null,q6:t,sessionData:G?{itct:G}:null,nZ3:p,cD:M?M:null,
isPlaceholder:f.isPlaceholder,impressionUrls:Pn(f.impressionUrls||[],z4),SI:Pn(f.hovercardShowUrls||[],z4),clickUrls:Pn(D.loggingUrls||[],z4),visualElement:g.Rz(f.trackingParams),productPrice:u,additionalFeesText:z,watchEndpoint:e||null}},Sd7=function(M,f){var A={startMs:Math.floor(Number(M.startMs)),
impressionUrls:Pn(M.impressionUrls||[],z4),elements:Pn(M.elements||[],function(Q,N){return hEW(f,Q,N)})};
M.trackingParams&&(A.visualElement=g.Rz(M.trackingParams));return A},Lvc=function(M){g.CV.call(this,M);
this.C=this.endscreen=null;this.Z={};this.G={};this.N=this.j=null;this.X=[];this.K=null;this.Er=!0;this.W=0;M=M.T();this.B=g.dt(M)||g.bc(M);this.events=new g.yK(this);g.d(this,this.events);this.events.J(this.player,g.EW("creatorendscreen"),this.onCueRangeEnter);this.events.J(this.player,g.tf("creatorendscreen"),this.onCueRangeExit);this.events.J(this.player,"resize",this.Tt);this.events.J(window,"focus",this.ozN);this.load();var f=g.MQ("STYLE");(g.kR("HEAD")[0]||document.body).appendChild(f);this.addOnDisposeCallback(function(){g.Ya(f)});
f.sheet&&(f.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),f.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},oYc=function(M){return M.player.getVideoData().XR?"current":M.B?"new":"current"},nP=function(M){return M.player.T().playerStyle==="creator-endscreen-editor"},C06=function(M){var f=M.player.getVideoData(),A=f.videoId;
M.C&&M.C.abort();A={method:"POST",onFinish:function(N){var Y=M.C=null;N.status===200&&(N=N.responseText,N.substring(0,3)===")]}"&&(N=N.substring(3),Y=JSON.parse(N),Y=Sd7(Y,oYc(M))));j9(M,Y)},
urlParams:{v:A},withCredentials:!0};M.B&&(A.urlParams.ptype="embedded");var Q=f.uV;Q&&(A.postParams={ad_tracking:Q});if(f=g.cqd(f))if(f=g.Kx(f),f=g.WT(f))M.C=g.Ba(f,A)},j9=function(M,f,A){A=A===void 0?!0:A;
M.player.GU("creatorendscreen");M.j&&(M.j.dispose(),M.j=null,M.N.dispose(),M.N=null);for(var Q=g.V(Object.values(M.Z)),N=Q.next();!N.done;N=Q.next())N.value.dispose();M.Z={};M.G={};M.X.length>0&&(M.X.forEach(function(D){D.dispose()}),M.X.length=0);
M.K&&(g.p5(M.K,"ytp-ce-element-show"),M.K.setAttribute("aria-hidden","true"));M.W=0;if((M.endscreen=f)&&f.elements){A&&UMB(M);A=[];Q=new g.T1(f.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});A.push(Q);M.player.T().Z||(M.j=new g.O({S:"div",Y:"ytp-ce-shadow"}),g.$X(M.player,M.j.element,4),M.N=new g.I1(M.j,200));for(Q=0;Q<f.elements.length;++Q){N=f.elements[Q];var Y=Va6(M,N);if(Y){M.Z[N.id]=Y;M.G[N.id]=N;g.$X(M.player,Y.element,4);var I=new g.T1(N.startMs,N.endMs,{id:"ytp-ce-element-"+
N.id,namespace:"creatorendscreen"});A.push(I);aPB(M,Y,N)}else g.$b(new g.GX("buildEndscreenElement null",N))}M.player.L3(A);M.Tt()}},UMB=function(M){var f=g.Bf(),A=g.iH();
A&&f&&M.endscreen.visualElement&&g.f0(g.GZ)(void 0,A,f,M.endscreen.visualElement)},Va6=function(M,f){var A=null;
switch(f.type){case "VIDEO":M={S:"div",Ai:["ytp-ce-element","ytp-ce-video"],D:{tabindex:"0","aria-label":f.cD||"","aria-hidden":"true"},L:[{S:"div",Y:"ytp-ce-element-shadow"},{S:"div",Y:"ytp-ce-covering-image",D:$K(f)},{S:"div",Y:"ytp-ce-covering-shadow-top"},{S:"a",Y:"ytp-ce-covering-overlay",D:{href:Fe(M,f.targetUrl),tabindex:"-1"},L:[{S:"div",Ai:["ytp-ce-video-title","ytp-webkit-ellipsis"],D:{dir:g.aA(f.title||"")},Ix:f.title},{S:"div",Y:f.j9?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
Ix:f.videoDuration||void 0}]}]};A=new g.O(M);break;case "PLAYLIST":M={S:"div",Ai:["ytp-ce-element","ytp-ce-playlist"],D:{tabindex:"0","aria-label":f.cD||"","aria-hidden":"true"},L:[{S:"div",Y:"ytp-ce-element-shadow"},{S:"div",Y:"ytp-ce-covering-image",D:$K(f)},{S:"div",Y:"ytp-ce-covering-shadow-top"},{S:"a",Y:"ytp-ce-covering-overlay",D:{href:Fe(M,f.targetUrl),tabindex:"-1"},L:[{S:"div",Ai:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],D:{dir:g.aA(f.title||"")},Ix:f.title},{S:"div",Y:"ytp-ce-playlist-count",
L:[{S:"div",Y:"ytp-ce-playlist-icon"},{S:"div",Y:"ytp-ce-playlist-count-text",Ix:f.playlistLength||void 0}]}]}]};A=new g.O(M);break;case "CHANNEL":A={S:"div",Ai:["ytp-ce-element","ytp-ce-channel",f.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],D:{tabindex:"0","aria-label":f.cD||"","aria-hidden":"true"},L:[{S:"div",Y:"ytp-ce-element-shadow"},{S:"div",Y:"ytp-ce-expanding-overlay",L:[{S:"div",Y:"ytp-ce-expanding-overlay-hider"},{S:"div",Y:"ytp-ce-expanding-overlay-background"},{S:"div",Y:"ytp-ce-expanding-overlay-content",
L:[{S:"div",Y:"ytp-ce-expanding-overlay-body",L:[{S:"div",Y:"ytp-ce-expanding-overlay-body-padding",L:[{S:"a",Ai:["ytp-ce-channel-title","ytp-ce-link"],D:{href:Fe(M,f.targetUrl),target:"_blank",tabindex:"-1",dir:g.aA(f.title||"")},Ix:f.title},f.subscribeButton?{S:"div",Y:"ytp-ce-subscribe-container",L:[{S:"div",Y:"ytp-ce-channel-subscribe"}]}:"",f.subscribersText?{S:"div",Y:"ytp-ce-channel-subscribers-text",Ix:f.subscribersText}:"",f.metadata?{S:"div",Ai:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],Ix:f.metadata}:""]}]}]}]},{S:"div",Y:"ytp-ce-expanding-image",D:$K(f)}]};A=new g.O(A);var Q=g.Ol(document,"div","ytp-ce-channel-subscribe",A.element)[0];if(f.subscribeButton&&f.channelId){g.tZ(Q,"ytp-ce-subscribe-button");if(M.player.T().Z){var N=null;var Y=f.sessionData.itct}else N="endscreen",Y=null;N=new g.wT(f.subscribeButton.subscribeText,f.subscribeButton.subscribeCount,f.subscribeButton.unsubscribeText,f.subscribeButton.unsubscribeCount,!!f.subscribeButton.enabled,!!f.subscribeButton.classic,
f.channelId,!!f.subscribeButton.subscribed,N,Y,M.player,!1);Q.appendChild(N.element);M.X.push(N)}break;case "WEBSITE":M={S:"div",Ai:["ytp-ce-element","ytp-ce-website"],D:{tabindex:"0","aria-label":f.cD||"","aria-hidden":"true"},L:[{S:"div",Y:"ytp-ce-element-shadow"},{S:"div",Y:"ytp-ce-expanding-overlay",L:[{S:"div",Y:"ytp-ce-expanding-overlay-hider"},{S:"div",Y:"ytp-ce-expanding-overlay-background"},{S:"div",Y:"ytp-ce-expanding-overlay-content",L:[{S:"div",Y:"ytp-ce-expanding-overlay-body",L:[{S:"div",
Y:"ytp-ce-expanding-overlay-body-padding",L:[{S:"div",Y:"ytp-ce-website-title",D:{dir:g.aA(f.title||"")},Ix:f.title},{S:"div",Y:"ytp-ce-website-metadata",Ix:f.metadata},{S:"a",Ai:["ytp-ce-website-goto","ytp-ce-link"],D:{href:Fe(M,f.targetUrl),target:"_blank",tabindex:"-1"},Ix:f.callToAction}]}]}]}]},{S:"div",Y:"ytp-ce-expanding-image",D:$K(f)},{S:"div",Y:"ytp-ce-expanding-icon",D:qdR(f.iconUrl)}]};A=new g.O(M);break;case "CREATOR_MERCHANDISE":A="",f.productPrice&&(A={S:"div",Y:"ytp-ce-merchandise-price-container",
L:[{S:"div",Y:"ytp-ce-merchandise-price",Ix:f.productPrice}]},f.additionalFeesText&&A.L.push({S:"div",Y:"ytp-ce-merchandise-additional-fees",Ix:f.additionalFeesText})),M={S:"div",Ai:["ytp-ce-element","ytp-ce-merchandise"],D:{tabindex:"0","aria-label":f.cD||"","aria-hidden":"true"},L:[{S:"div",Y:"ytp-ce-element-shadow"},{S:"div",Y:"ytp-ce-expanding-overlay",L:[{S:"div",Y:"ytp-ce-expanding-overlay-hider"},{S:"div",Y:"ytp-ce-expanding-overlay-background"},{S:"div",Y:"ytp-ce-expanding-overlay-content",
L:[{S:"div",Y:"ytp-ce-expanding-overlay-body",L:[{S:"div",Y:"ytp-ce-expanding-overlay-body-padding",L:[{S:"div",Y:"ytp-ce-merchandise-title",D:{dir:g.aA(f.title||"")},Ix:f.title},A,{S:"div",Y:"ytp-ce-merchandise-metadata",Ix:f.metadata},{S:"a",Ai:["ytp-ce-merchandise-goto","ytp-ce-link"],D:{href:Fe(M,f.targetUrl),target:"_blank",tabindex:"-1"},Ix:f.callToAction}]}]}]}]},{S:"div",Y:"ytp-ce-expanding-image",D:$K(f)},{S:"div",Y:"ytp-ce-merchandise-invideo-cta-container",L:[{S:"div",Y:"ytp-ce-merchandise-invideo-cta",
Ix:f.callToAction||void 0}]}]},A=new g.O(M)}f.isPlaceholder&&g.tZ(A.element,"ytp-ce-placeholder");return A},$K=function(M){if(M.cw)var f=M.cw.thumbnails;
return qdR(f?f[f.length-1].url:null)},qdR=function(M){return M?{style:"background-image: url("+M+")"}:{}},aPB=function(M,f,A){function Q(E){E&&(f.listen("blur",function(){E.style.display!="none"&&M.Er&&E.focus()}),f.J(E,"focus",Y),f.J(E,"blur",I))}
function N(E){M.W+=E;M.W>0?(g.tZ(f.element,"ytp-ce-force-expand"),yF(M,A.id,!0)):(g.p5(f.element,"ytp-ce-force-expand"),g.p5(f.element,"ytp-ce-element-hover"),yF(M,A.id,!1))}
function Y(){N(1)}
function I(){N(-1)}
f.listen("mouseenter",function(){Ha6(M,f,A)});
f.listen("mouseleave",function(){mMB(M,f,A)});
M.player.T().Z||f.listen("click",function(){g.tZ(f.element,"ytp-ce-element-hover")});
f.listen("click",function(E){skB(M,A,E)});
f.listen("keypress",function(E){skB(M,A,E)});
f.listen("focus",function(){Ha6(M,f,A)});
f.listen("blur",function(){mMB(M,f,A)});
f.listen("touchstart",function(){Ha6(M,f,A)});
var D=g.XF("ytp-ce-expanding-overlay-hider",f.element);D&&f.J(D,"touchstart",function(E){E.stopPropagation();g.p5(f.element,"ytp-ce-element-hover");g.p5(f.element,"ytp-ce-force-expand")});
f.listen("keydown",function(E){M.Er=E.keyCode===9&&!E.shiftKey});
Q(g.XF("ytp-sb-subscribe",f.element));Q(g.XF("ytp-sb-unsubscribe",f.element));f.listen("focus",Y);f.listen("blur",I)},skB=function(M,f,A){if(f.targetUrl&&(!A||A.type!=="keypress"||A.keyCode===13)){for(var Q=A.target;Q&&!g.ED(Q,"ytp-ce-element");){g.ED(Q,"subscribe-label")&&cne(M,f);
if(g.ED(Q,"ytp-ce-channel-subscribe"))return;Q=Q.parentElement||null}if(!Q||g.ED(Q,"ytp-ce-element-hover")){A.preventDefault();A.stopPropagation();if(Q=M.Z[f.id])mMB(M,Q,f),Q.element.blur();if(A.ctrlKey||A.metaKey||f.nZ3==="new")cne(M,f),M.player.sendVideoStatsEngageEvent(17,void 0),M.player.pauseVideo(),A=g.Kx(Fe(M,f.targetUrl)),A=g.WT(A),g.XV(A,void 0,f.sessionData);else{var N=g.Q5(M.player.T())||M.player.getVideoData().XR,Y=function(){var I=Fe(M,f.targetUrl),D=f.sessionData,E=f.watchEndpoint,t=
g.TA(I);N&&t&&(t.v||t.list)?M.player.x7(t.v,D,t.list,!1,void 0,E||void 0):g.Oa(I,D)};
cne(M,f,function(){M.player.sendVideoStatsEngageEvent(17,Y)})}}}},Fe=function(M,f){M=M.player.T();
if(f){if(f.startsWith("//"))return M.protocol+":"+f;if(f.startsWith("/"))return g.td(M)+f}else return"";return f},Ha6=function(M,f,A){g.ED(f.element,"ytp-ce-element-hover")||(A.type==="VIDEO"||A.type==="PLAYLIST"?g.tZ(f.element,"ytp-ce-element-hover"):M.player.T().Z?(new g.MY(function(){g.tZ(f.element,"ytp-ce-element-hover")},200)).start():g.tZ(f.element,"ytp-ce-element-hover"),dW(M,A.SI),yF(M,A.id,!0))},mMB=function(M,f,A){g.p5(f.element,"ytp-ce-element-hover");
g.p5(f.element,"ytp-ce-force-expand");yF(M,A.id,!1)},yF=function(M,f,A){M.j&&(A?M.N.show():M.N.hide());
for(var Q=g.V(Object.keys(M.Z)),N=Q.next();!N.done;N=Q.next())N=N.value,N!==f&&g.Sb(M.Z[N].element,"ytp-ce-element-shadow-show",A)},dW=function(M,f,A){function Q(){Y||(N++,N===f.length&&(I.stop(),A&&A()))}
if(!f||f.length===0||nP(M))A&&A();else{f=REB(M,f);var N=0,Y=!1,I=new g.MY(function(){Y=!0;A&&A()},1E3,M);
I.start();for(M=0;M<f.length;M++)g.bg(f[M],Q)}},cne=function(M,f,A){dW(M,f.clickUrls,A);
(M=g.iH())&&f.q6&&g.Ev(M,f.visualElement)},REB=function(M,f){var A=M.player.getVideoData().clientPlaybackNonce;
M=M.player.getCurrentTime().toFixed(2);A={CPN:A,AD_CPN:A,MT:M};M=[];for(var Q=0;Q<f.length;Q++)M.push(gYK(f[Q],A));return M},gYK=function(M,f){return M.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(A){var Q=unescape(A);
Q=Q.substring(1,Q.length-1);return f[Q]?escape(f[Q]):A})},Bsm=function(M){return typeof M==="string"?M:""},e9=function(M,f,A){for(var Q in f)if(f[Q]===M)return M;
return A},ia7=function(M,f,A,Q){this.value=M;
this.target=f;this.showLinkIcon=A;this.K=Q},bu=function(M){return M.value?M.value:null},kK=function(M){if(!M)return null;
var f=g.Kx(Bsm(M.value));f=g.WT(f);if(!f)return null;var A=e9(M.target,xMw,"current");if(A==null)M=null;else{var Q=M.show_link_icon;M=new ia7(f,A,Q==="true"||Q==="false"?Q==="true":!0,M.pause_on_navigation!=null?M.pause_on_navigation:!0)}return M},Za7=function(M,f,A){this.type=M;
this.trigger=f;this.url=A},zEC=function(M){if(!M)return null;
var f=e9(M.type,rnB),A=e9(M.trigger,u5m);M=M.url;M=Array.isArray(M)&&M.length?M[0]:M;M=kK(M?M:null);return f?new Za7(f,A,M):null},P0m=function(M,f,A,Q,N){this.id=M;
this.type=f;this.style=A;this.data=N;this.action=Q||[]},nYR=function(M,f){return g.oR(M.action,f)},jk0=function(M,f){this.context=M;
this.K=f},$MC=function(M){return M.customMessage?Wn("div","iv-card-message",M.customMessage):""},Ob=function(M,f){M="background-image: url("+M+");";
var A=[];f&&A.push(f);return{S:"div",Y:"iv-card-image",D:{style:M},L:A}},Fv6=function(M){if(!M.metaInfo||M.metaInfo.length===0)return"";
var f=[];M=g.V(M.metaInfo);for(var A=M.next();!A.done;A=M.next())f.push(Wn("li","",A.value));return{S:"ul",Y:"iv-card-meta-info",L:f}},Wn=function(M,f,A){f?typeof f==="string"?f={"class":f}:Array.isArray(f)&&(f={"class":f.join(" ")}):f={};
f.dir=g.aA(A);return{S:M,D:f,Ix:A}},yn7=function(M){if(!M.customMessage)return"";
var f=["iv-card-action","iv-card-primary-link"],A={};M.wV&&(f.push("iv-card-action-icon"),A.style="background-image: url("+M.wV+");");A.dir=g.aA(M.customMessage);var Q=[{S:"span",Ix:M.customMessage}];M.showLinkIcon&&(Q.push("\u00a0"),Q.push({S:"span",Y:"iv-card-link-icon"}));return{S:"div",Ai:f,D:A,L:Q}},Xe=function(M,f,A,Q){if(Q){f=g.V(f);
for(var N=f.next();!N.done;N=f.next())M.K(N.value,Q,A.id,A.sessionData,A.pK.click,5)}},dMm=function(M,f){this.merchant=M;
this.price=f},eEm=function(M){var f;
(f=M)&&!(f=M.length>1?M.charAt(0)==="/"&&M.charAt(1)!=="/":M==="/")&&(f=M.replace(/^(https?:)?\/\//,"").split("/",1),f=!f||f.length<1||!f[0]?[]:f[0].toLowerCase().split(".").reverse(),f=f[0]==="com"&&f[1]==="youtube"||f[0]==="be"&&f[1]==="youtu");return f?M.indexOf("/redirect?")===-1:!1},baW=function(M,f){return f?f:eEm(M)?"current":"new"},JN=function(M,f){g.y.call(this);
var A=this;this.element=M;this.context=f;this.b8=!1;this.YO=new Map;this.Ji=new Map;this.context.U.addEventListener(g.EW("annotations_module"),function(Q){(Q=A.YO.get(Q))&&Q.apply(A)});
this.context.U.addEventListener(g.tf("annotations_module"),function(Q){(Q=A.Ji.get(Q))&&Q.apply(A)})},KP=function(M,f,A,Q,N,Y,I){M.context.K.listen(f,"click",function(D){M.kX(A,Q,N,Y||[],I||0,D)});
M.context.K.listen(f,"touchstart",function(){M.b8=!1});
M.context.K.listen(f,"touchmove",function(){M.b8=!0})},kc0=function(M){var f;
return((f=g.b(M,g.db))==null?0:f.url)?g.b(M,g.db).url:(M=g.b(M,g.N5))&&M.videoId?(f="/watch?v="+M.videoId,M.playlistId&&(f+="&list="+M.playlistId),M.index&&(f+="&index="+M.index),M.startTimeSeconds&&(f+="&t="+M.startTimeSeconds),f):null},G4=function(M,f,A){return{BR:(M.impressionLoggingUrlsV2s||[]).map(function(Q){return Q.baseUrl||""}),
click:(A.loggingUrls||[]).map(function(Q){return Q.baseUrl||""}),
close:(f.dismissLoggingUrlsV2s||[]).map(function(Q){return Q.baseUrl||""}),
P1:(f.impressionLoggingUrlsV2s||[]).map(function(Q){return Q.baseUrl||""}),
Nl:(f.clickLoggingUrlsV2s||[]).map(function(Q){return Q.baseUrl||""})}},Wv7=function(M,f,A){JN.call(this,f,A);
var Q=this;this.U=M;this.eventId=null;this.Z9=this.fJ=this.zt=this.j=this.isInitialized=!1;this.cards=[];this.xO=this.X=this.g_=this.N=this.ox=this.K=null;this.Er=[];this.KJ=this.W=this.sR=this.z0=null;this.G=0;this.P7=new g.MY(function(){},A.QY.Z_?4E3:3E3);
g.d(this,this.P7);this.l8=new g.MY(function(){});
g.d(this,this.l8);this.jk=new jk0(A,function(N,Y,I,D,E,t){KP(Q,N,Y,I,D,E,t)});
this.B=new g.O({S:"div",Y:"iv-drawer",D:{id:"iv-drawer"},L:[{S:"div",Y:"iv-drawer-header",D:{"aria-role":"heading"},L:[{S:"span",Y:"iv-drawer-header-text"},{S:"button",Ai:["iv-drawer-close-button","ytp-button"],D:{"aria-label":"Hide cards",tabindex:"0"}}]},{S:"div",Y:"iv-drawer-content"}]});g.d(this,this.B);this.C=this.B.element;this.w_=new g.I1(this.B,330);g.d(this,this.w_);this.Qw=g.XF("iv-drawer-header-text",this.C);this.Z=g.XF("iv-drawer-content",this.C);this.addCueRange(0,A.videoData.lengthSeconds*
1E3,"",function(){Q.zt&&wW(Q,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(Q.zt=Q.j)&&lu(Q)});
this.nJ=new g.yK(this);g.d(this,this.nJ);this.U.addEventListener("videodatachange",this.q_.bind(this))},Oam=function(M,f){f=f.data;
f.autoOpenMs&&M.addCueRange(f.autoOpenMs,0x8000000000000,"",function(){wW(M,"YOUTUBE_DRAWER_AUTO_OPEN")});
f.autoCloseMs&&M.addCueRange(f.autoCloseMs,0x8000000000000,"",function(){lu(M)});
var A=f.headerText;g.TD(M.Qw,A);M.X&&M.X.setAttribute("title",A);f.eventId&&(M.eventId=f.eventId);M.z0=g.Rz(f.trackingParams);M.W=g.Rz(f.closeTrackingParams);M.sR=g.Rz(f.iconTrackingParams)},XEC=function(M,f){var A=f.cardId?f.cardId:"cr:"+M.G,Q=M.U.T().experiments.X3("enable_error_corrections_infocard_web_client");
if(!f.content&&f.teaser.simpleCardTeaserRenderer&&Q){var N=f.teaser.simpleCardTeaserRenderer,Y=f.icon?f.icon.infoCardIconRenderer:null;f={id:A,timestamp:M.G,type:"simple",teaserText:g.ae(N.message),teaserDurationMs:Number(f.cueRanges[0].teaserDurationMs),startMs:Number(f.cueRanges[0].startCardActiveMs),autoOpen:!!f.autoOpen,sessionData:{},sponsored:!1,pK:{},vQ:null,xm:N.trackingParams?g.Rz(N.trackingParams):null,sR:Y&&Y.trackingParams?g.Rz(Y.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,
wV:null,title:"",customMessage:"",url:null,onClickCommand:N.onTapCommand||null};M_(M,f)}else{var I;if((I=f.content)==null?0:I.simpleCardContentRenderer){if(!f.cueRanges.length)return;Y=(N=f.content)==null?void 0:N.simpleCardContentRenderer;N=f.teaser.simpleCardTeaserRenderer;var D=f.icon?f.icon.infoCardIconRenderer:null;f={id:A,timestamp:M.G,type:"simple",teaserText:g.ae(N.message),teaserDurationMs:Number(f.cueRanges[0].teaserDurationMs),startMs:Number(f.cueRanges[0].startCardActiveMs),autoOpen:!!f.autoOpen,
sessionData:f8(M,A,f,Y),sponsored:!1,pK:G4(Y,N,Y.command),vQ:Y.trackingParams?g.Rz(Y.trackingParams):null,xm:N.trackingParams?g.Rz(N.trackingParams):null,sR:D&&D.trackingParams?g.Rz(D.trackingParams):null,imageUrl:AM(Y.image.thumbnails,290).url,displayDomain:Y.displayDomain?g.ae(Y.displayDomain):null,showLinkIcon:!!Y.showLinkIcon,wV:null,title:Y.title?g.ae(Y.title):"",customMessage:Y.callToAction?g.ae(Y.callToAction):"",url:g.b(Y.command,g.db).url?kK({pause_on_navigation:!M.context.videoData.isLivePlayback,
target:"new",value:g.b(Y.command,g.db).url}):null,onClickCommand:null};M_(M,f)}else{var E;if((E=f.content)==null?0:E.collaboratorInfoCardContentRenderer){if(!f.cueRanges.length)return;N=(Y=f.content)==null?void 0:Y.collaboratorInfoCardContentRenderer;Y=f.teaser.simpleCardTeaserRenderer;D=f.icon?f.icon.infoCardIconRenderer:null;f={id:A,timestamp:M.G,type:"collaborator",teaserText:g.ae(Y.message),teaserDurationMs:Number(f.cueRanges[0].teaserDurationMs),startMs:Number(f.cueRanges[0].startCardActiveMs),
autoOpen:!!f.autoOpen,sessionData:f8(M,A,f,N),sponsored:!1,pK:G4(N,Y,N.endpoint),vQ:N.trackingParams?g.Rz(N.trackingParams):null,xm:Y.trackingParams?g.Rz(Y.trackingParams):null,sR:D&&D.trackingParams?g.Rz(D.trackingParams):null,channelId:g.b(N.endpoint,g.iv).browseId,customMessage:N.customText?g.ae(N.customText):null,profileImageUrl:AM(N.channelAvatar.thumbnails,290).url,title:N.channelName?g.ae(N.channelName):"",metaInfo:[N.subscriberCountText?g.ae(N.subscriberCountText):""],url:kK({pause_on_navigation:!M.context.videoData.isLivePlayback,
target:"new",value:g.b(N.endpoint,g.iv).canonicalBaseUrl?g.b(N.endpoint,g.iv).canonicalBaseUrl:"/channel/"+g.b(N.endpoint,g.iv).browseId}),onClickCommand:null};M_(M,f)}else{var t;if((t=f.content)==null?0:t.playlistInfoCardContentRenderer){if(!f.cueRanges.length)return;N=(D=f.content)==null?void 0:D.playlistInfoCardContentRenderer;Y=f.teaser.simpleCardTeaserRenderer;D=f.icon?f.icon.infoCardIconRenderer:null;f={id:A,timestamp:M.G,type:"playlist",teaserText:g.ae(Y.message),teaserDurationMs:Number(f.cueRanges[0].teaserDurationMs),
startMs:Number(f.cueRanges[0].startCardActiveMs),autoOpen:!!f.autoOpen,sessionData:f8(M,A,f,N),sponsored:!1,pK:G4(N,Y,N.action),vQ:N.trackingParams?g.Rz(N.trackingParams):null,xm:Y.trackingParams?g.Rz(Y.trackingParams):null,sR:D&&D.trackingParams?g.Rz(D.trackingParams):null,Vh:AM(N.playlistThumbnail.thumbnails,258).url,customMessage:N.customMessage?g.ae(N.customMessage):null,playlistVideoCount:g.ae(N.playlistVideoCount),title:N.playlistTitle?g.ae(N.playlistTitle):"",metaInfo:[N.channelName?g.ae(N.channelName):
"",N.videoCountText?g.ae(N.videoCountText):""],url:kK({pause_on_navigation:!M.context.videoData.isLivePlayback,target:"new",value:kc0(N.action)}),onClickCommand:null};M_(M,f)}else{var v;if((v=f.content)==null?0:v.videoInfoCardContentRenderer){if(!f.cueRanges.length)return;var p;N=(p=f.content)==null?void 0:p.videoInfoCardContentRenderer;Y=f.teaser.simpleCardTeaserRenderer;D=f.icon?f.icon.infoCardIconRenderer:null;f={id:A,timestamp:M.G,type:"video",teaserText:g.ae(Y.message),teaserDurationMs:Number(f.cueRanges[0].teaserDurationMs),
startMs:Number(f.cueRanges[0].startCardActiveMs),autoOpen:!!f.autoOpen,sessionData:f8(M,A,f,N),sponsored:!1,pK:G4(N,Y,N.action),vQ:N.trackingParams?g.Rz(N.trackingParams):null,xm:Y.trackingParams?g.Rz(Y.trackingParams):null,sR:D&&D.trackingParams?g.Rz(D.trackingParams):null,Vh:AM(N.videoThumbnail.thumbnails,258).url,videoDuration:N.lengthString?g.ae(N.lengthString):null,customMessage:N.customMessage?g.ae(N.customMessage):null,title:N.videoTitle?g.ae(N.videoTitle):"",metaInfo:[N.channelName?g.ae(N.channelName):
"",N.viewCountText?g.ae(N.viewCountText):""],isLiveNow:!!N.badge,url:kK({pause_on_navigation:!M.context.videoData.isLivePlayback,target:"new",value:kc0(N.action)}),onClickCommand:null};M_(M,f)}}}}}M.G++},AM=function(M,f){for(var A=-1,Q=-1,N=0;N<M.length;N++){if(M[N].height===f||M[N].width===290)return M[N];
((M[N].height||0)<f||(M[N].width||0)<290)&&(A<0||(M[A].height||0)<(M[N].height||0)||(M[A].width||0)<(M[N].width||0))?A=N:((M[N].height||0)>=f||(M[N].width||0)>=290)&&(Q<0||(M[Q].height||0)>(M[N].height||0)||(M[Q].width||0)>(M[N].width||0))&&(Q=N)}return M[Q>=0?Q:A]},f8=function(M,f,A,Q){return{feature:A.feature?A.feature:"cards",
src_vid:M.context.videoData.videoId,annotation_id:f,ei:M.context.videoData.eventId||"",itct:Q.trackingParams||""}},Kv6=function(M,f){if(f=JnW(M,f))f===M.K&&(M.K=null),M.U.removeCueRange(f.bU.id),g.Ya(f.mT),g.qm(M.cards,f),M.d3(),Qr(M)},wW=function(M,f,A){if(!M.j){M.w_.show();
M.ox=new g.MY(function(){g.tZ(M.context.U.getRootNode(),g.Qc.IV_DRAWER_OPEN)},0);
M.ox.start();M.nJ.J(M.Z,"mousewheel",function(I){M.P7.start();I.preventDefault();I=I||window.event;var D=0;I.type=="MozMousePixelScroll"?D=0==(I.axis==I.HORIZONTAL_AXIS)?I.detail:0:window.opera?D=I.detail:D=I.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?I.wheelDeltaY/-30:I.wheelDeltaY/-1.2:I.wheelDelta/-1.6:I.wheelDeltaY/-3;if(I=D)M.Z.scrollTop+=I});
M.j=!0;var Q=g.iH();Q&&M.z0&&M.W&&g.To(Q,[M.z0,M.W]);f={TRIGGER_TYPE:f};for(var N=g.V(M.cards),Y=N.next();!Y.done;Y=N.next())Y=Y.value,Y.s9||(Y.s9=!0,GcR(M.context.logger,Y.bU.pK.BR,f)),Q&&g.To(Q,[Y.bU.vQ]);gW(M.U);A&&(M.N=new g.MY(function(){M.g_=M.X;M.xO.focus()},330),M.N.start())}},lu=function(M){M.j&&(M.w_.hide(),g.u$(M.nJ),g.p5(M.context.U.getRootNode(),g.Qc.IV_DRAWER_OPEN),M.j=!1,gW(M.U),M.N&&M.N.stop(),M.N=new g.MY(function(){M.g_&&(M.g_.focus(),M.g_=null)},330),M.N.start())},wEc=function(M){g.vv(M.iI(),
[g.Qc.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.$X(M.U,M.C,5);M.Tz();M.X=g.XF("ytp-cards-button",M.U.getRootNode());M.xO=g.XF("iv-drawer-close-button",M.C);M.isInitialized=!0},lPR=function(M){M.Er.push(g.Dy("iv-teaser-shown",M.QE,M));
M.Er.push(g.Dy("iv-teaser-hidden",M.QxN,M));M.Er.push(g.Dy("iv-teaser-clicked",M.s4,M));M.Z9=!0},MpR=function(M,f){var A;
return f.onClickCommand&&((A=g.b(f.onClickCommand,g.xVB))==null?void 0:A.targetId)==="engagement-panel-error-corrections"?(M.KJ=f,!0):!1},fl9=function(M,f){M.KJ=f;
var A=M.U.getVideoData();if(!A)return!1;A=g.uS(A);if(A==null?0:A.markersMap)for(var Q,N=0;((Q=A)==null?void 0:Q.markersMap.length)>N;N++){var Y=void 0,I=(Y=A)==null?void 0:Y.markersMap[N];if(I.key==="ERROR_CORRECTION_MARKERS"&&(Y=void 0,(I=(Y=I.value)==null?void 0:Y.markers)&&I.length>0))return Q=void 0,f.startMs=((Q=g.b(I[0],g.aie))==null?void 0:Q.timeRangeStartMillis)||0,M.KJ=null,!0}return!1},M_=function(M,f){if(!MpR(M,f)||fl9(M,f)){var A=ATK(M,f);
if(A){var Q={bU:f,mT:A.element,s9:!1};if(f.onClickCommand)M.U.V("web_infocards_teaser_show_logging_fix")&&(M.Z9||lPR(M),Kv6(M,f.id),A=M.findLastIndex(Q),g.i6(M.cards,A,0,Q));else{M.isInitialized||wEc(M);Kv6(M,f.id);var N=M.findLastIndex(Q);g.i6(M.cards,N,0,Q);A.pJ(M.Z,N);M.d3()}f.autoOpen?M.addCueRange(f.startMs,0x8000000000000,f.id,function(){M.j||(M.K=Q,Qr(M),QZ0(M,Q),wW(M,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(A=M.context.U.getCurrentTime()*1E3,A<5E3&&A>f.startMs&&NnB(M,Q),M.addCueRange(f.startMs,
f.startMs+1,f.id,function(){NnB(M,Q)}),Qr(M))}}},ATK=function(M,f){switch(f.type){case "simple":M=M.jk;
var A=f.displayDomain?{S:"div",Y:"iv-card-image-text",Ix:f.displayDomain}:void 0;var Q=yn7(f);A={S:"div",Ai:["iv-card"],L:[{S:"a",Y:"iv-click-target",D:{href:f.url?bu(f.url)||"":""},L:[Ob(f.imageUrl,A),{S:"div",Y:"iv-card-content",L:[Wn("h2",void 0,f.title),Q]}]}]};A=new g.O(A);Xe(M,g.WB("iv-click-target",A.element),f,f.url);f=A;break;case "collaborator":M=M.jk;A={S:"div",Ai:["iv-card","iv-card-channel"],L:[{S:"a",Ai:["iv-click-target"],D:{href:bu(f.url)||"","data-ytid":f.channelId},L:[Ob(f.profileImageUrl),
{S:"div",Y:"iv-card-content",L:[$MC(f),{S:"h2",Y:"iv-card-primary-link",Ix:f.title},Fv6(f)]}]}]};A=new g.O(A);Xe(M,g.WB("iv-click-target",A.element),f,f.url);f=A;break;case "playlist":M=M.jk;A={S:"div",Ai:["iv-card","iv-card-playlist"],L:[{S:"a",Y:"iv-click-target",D:{href:bu(f.url)||""},L:[Ob(f.Vh,{S:"div",Y:"iv-card-image-overlay",L:[{S:"span",Y:"iv-card-playlist-video-count",Ix:f.playlistVideoCount}]}),{S:"div",Y:"iv-card-content",L:[$MC(f),Wn("h2","iv-card-primary-link",f.title),Fv6(f)]}]}]};
A=new g.O(A);Xe(M,g.WB("iv-click-target",A.element),f,f.url);f=A;break;case "productListing":M=M.jk;var N=f.offers.length!=0;A=["iv-card"];Q="";var Y=yn7(f);N&&(A.push("iv-card-product-listing"),Q="iv-card-primary-link",Y=f.offers[0],N=[],Y.price&&N.push({S:"div",Y:"iv-card-offer-price",Ix:Y.price}),Y.merchant&&N.push({S:"div",Y:"iv-card-offer-merchant",Ix:Y.merchant}),Y={S:"div",L:N});N=f.url?bu(f.url)||"":"";A={S:"div",Ai:A,D:{tabindex:"0"},L:[{S:"a",Ai:["iv-card-image","iv-click-target"],D:{style:"background-image: url("+
f.imageUrl+");",href:N,"aria-hidden":"true",tabindex:"-1"}},{S:"div",Y:"iv-card-content",L:[f.sponsored?{S:"div",Y:"iv-card-sponsored",L:["Sponsored",{S:"div",Y:"iv-ad-info-container",L:[{S:"div",Y:"iv-ad-info",Ix:"{{adInfo}}"},{S:"div",Y:"iv-ad-info-icon-container",L:[{S:"div",Y:"iv-ad-info-icon"},{S:"div",Y:"iv-ad-info-callout"}]}]}]}:"",{S:"a",Y:"iv-click-target",D:{href:N},L:[Wn("h2",Q,f.title),Y]}]}]};A=new g.O(A);Q=g.MQ("span");g.TD(Q,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
A.Xk(Q,"adInfo");Xe(M,g.WB("iv-click-target",A.element),f,f.url);f=A;break;case "video":M=M.jk;Q=f.videoDuration?{S:"span",Y:"iv-card-video-duration",Ix:f.videoDuration}:void 0;Y=f.isLiveNow?{S:"span",Ai:["yt-badge","yt-badge-live"],Ix:"LIVE NOW"}:null;N={S:"div",Ai:["iv-card","iv-card-video"],L:[{S:"a",Y:"iv-click-target",D:{href:((A=f.url)==null?void 0:bu(A))||""},L:[Ob(f.Vh,Q),{S:"div",Y:"iv-card-content",L:[$MC(f),Wn("h2","iv-card-primary-link",f.title),Fv6(f),Y]}]}]};A=new g.O(N);Xe(M,g.WB("iv-click-target",
A.element),f,f.url);f=A;break;default:return null}return f},Yg9=function(M){if(M.K)return M.K.bU.type==="productListing";
if(M.U.V("enable_wn_infocards")){var f;return!((f=M.cards)==null||!f.length)&&g.Oy(M.cards,function(A){return A.bU.type==="productListing"})}return g.Oy(M.cards,function(A){return A.bU.type==="productListing"})},Qr=function(M){g.Sb(M.U.getRootNode(),"ytp-cards-shopping-active",Yg9(M))},NnB=function(M,f){if(!g.ED(M.U.getRootNode(),"ytp-cards-teaser-shown")){if(M.K!==f){var A=g.iH(),Q=M.K?M.K.bU.sR:M.sR;
A&&Q&&g.DJ(A,[Q]);M.K=f;Qr(M)}if(A=M.isInitialized)A=M.iI().style.display=="none";A||(A=M.context.U.getPlayerState(),Q=A===0&&M.context.U.getCurrentTime()===0,A=!(A===1||A===3||Q));A||f.bU.teaserDurationMs&&M.U.Ab(!0,{teaserText:f.bU.teaserText,durationMs:f.bU.teaserDurationMs,onClickCommand:f.bU.onClickCommand});M.l8.isActive()||((!M.j||!M.P7.isActive()&&M.fJ)&&QZ0(M,f),M.l8.start(910+f.bU.teaserDurationMs))}},QZ0=function(M,f){M.B.B7?(f=new rW([0,
M.Z.scrollTop],[0,f.mT.offsetTop],600,vY9),M.context.j.listen(f,"animate",function(A){M.Z.scrollTop=A.y}),M.context.j.listen(f,"finish",function(A){M.Z.scrollTop=A.y}),f.play()):(M.B.aE(!0),M.Z.scrollTop=f.mT.offsetTop,M.B.aE(!1))},N_=function(M){return M.K&&M.K.bU?M.K.bU:M.cards[0]&&M.cards[0].bU?M.cards[0].bU:null},JnW=function(M,f){return g.oR(M.cards,function(A){return A.bU.id===f})},Y4=function(M,f,A){JN.call(this,M,f);
this.annotation=A;this.isActive=!1},Il9=function(M){var f=M.annotation.data;
"start_ms"in f&&"end_ms"in f&&M.addCueRange(Number(f.start_ms),Number(f.end_ms),M.annotation.id,function(){M.show()},function(){M.hide()})},IG=function(M,f,A){Y4.call(this,M,f,A);
this.Z=null;this.W=!1;this.j=null;this.C=!1;this.K=this.G=this.N=null},Tnm=function(M,f){var A=A===void 0?0:A;
var Q=An9(f).width;g.bW(f,Q);A=new EYv(f,[Q,f.offsetTop],[Q-Q-A,f.offsetTop],200,taR);g.d(M,A);M.context.j.listen(A,"begin",function(){g.KY(f,!0)});
A.play()},tpC=function(M,f){if(f.channel_name){var A=M.createElement({S:"div",
Ai:["iv-branding-context-name"],Ix:f.channel_name}),Q=M.createElement({S:"div",Ai:["iv-branding-context-subscribe"]}),N=f.standalone_subscribe_button_data;N&&(M.K=new g.wT(N.subscribeText,N.subscribeCount,N.unsubscribeText,N.unsubscribeCount,!!N.enabled,!!N.classic,f.channel_id,!!N.subscribed,N.feature,f.session_data.itct,M.context.U,!1),M.K.pJ(Q));var Y=M.createElement({S:"div",Ai:["iv-branding-context-subscribe-caret"]}),I=M.createElement({S:"div",Ai:["branding-context-container-inner"]});I.appendChild(Y);
I.appendChild(A);I.appendChild(Q);g.KY(I,!1);var D=M.createElement({S:"div",Ai:["branding-context-container-outer"]});D.appendChild(I);g.ji(D,"right",f.image_width+"px");g.Ao(M.iI(),D);M.j=new g.MY(function(){DXe(M,I,D)},500);
g.d(M,M.j);M.context.K.listen(M.iI(),"mouseover",function(){EVC(M,I,D,Y,f.image_height)});
M.context.K.listen(M.iI(),"mouseout",function(){M.j.start()})}},EVC=function(M,f,A,Q,N){M.j.stop();
if(!M.C){var Y=g.J9(f);M.K||(f.style.width=g.ei(Y.width,!0),A.style.width=g.ei(Y.width,!0));g.ji(Q,"top",Y.height-Math.max(Math.min(Y.height,N)/2+10,20)+"px");g.ji(Q,"right","1px");M.C=!0;g.KY(f,!0);M.N=new g.MY(function(){g.tZ(this.iI(),"iv-branding-active")},0,M);
M.N.start()}},DXe=function(M,f,A){g.p5(M.iI(),"iv-branding-active");
M.G=new g.MY(function(){g.KY(f,!1);M.K||(A.style.width=g.ei(0,!0))},250);
M.G.start();M.C=!1},vVe=function(M,f,A,Q,N,Y,I){this.K=M;
this.j=f;this.QY=A;this.videoData=Q;this.logger=N;this.U=Y;this.Z=I},p_7=function(M,f,A){Y4.call(this,M,f,A);
var Q=this;this.X=this.isCollapsed=this.B=!1;this.G=5E3;this.Z=this.j=this.K=this.C=null;this.W=this.createElement({S:"div",Ai:["iv-promo-contents"]});this.N=new g.MY(function(){Q.K.setAttribute("aria-hidden","true");g.KY(Q.j,!1);g.KY(Q.Z,!0)},700,this);
g.d(this,this.N)},Sge=function(M){var f=M.annotation.data;
if(M.annotation.style==="cta")var A=6;else if(M.annotation.style==="video"||M.annotation.style==="playlist")A=7;M.G=f.collapsedelay_ms||M.G;var Q=["iv-promo","iv-promo-inactive"];M.iI().setAttribute("aria-hidden","true");M.iI().setAttribute("aria-label","Promotion");M.iI().tabIndex=0;var N=M.annotation.mf(),Y=f.image_url;if(Y){var I=M.createElement({S:"div",Ai:["iv-promo-img","iv-click-target"]});Y=M.createElement({S:"img",D:{src:Y,"aria-hidden":"true"}});I.appendChild(Y);f.video_duration&&!f.is_live?
(Y=M.createElement({S:"span",Y:"iv-promo-video-duration",Ix:f.video_duration}),I.appendChild(Y)):f.playlist_length&&(Y=M.createElement({S:"span",Y:"iv-promo-playlist-length",Ix:f.playlist_length.toString()}),I.appendChild(Y));N&&KP(M,I,N,M.annotation.id,f.session_data,void 0,A)}N?(Y=M.createElement({S:"a",Y:"iv-promo-txt"}),g.we(Y,bu(N)),M.K=Y):M.K=M.createElement({S:"div",Y:"iv-promo-txt"});switch(M.annotation.style){case "cta":case "website":var D=M.createElement({S:"p",L:[{S:"strong",Ix:f.text_line_1}]});
var E=M.createElement({S:"p",L:[{S:"span",Y:"iv-promo-link",Ix:f.text_line_2}]});if(Y=f.text_line_3){Q.push("iv-promo-website-card-cta-redesign");var t=M.createElement({S:"button",Ai:["iv-promo-round-expand-icon","ytp-button"]});Y=M.createElement({S:"button",Ai:["iv-button","iv-promo-button"],L:[{S:"span",Y:"iv-button-content",Ix:Y}]});var v=M.createElement({S:"div",Y:"iv-promo-button-container"});v.appendChild(Y);N&&KP(M,M.iI(),N,M.annotation.id,f.session_data,void 0,A)}g.tZ(M.K,"iv-click-target");
N&&KP(M,M.K,N,M.annotation.id,f.session_data,void 0,A);break;case "playlist":case "video":D=M.createElement({S:"p",L:[{S:"span",Ix:f.text_line_1}]}),E=M.createElement({S:"p",L:[{S:"strong",Ix:f.text_line_2}]}),f.is_live&&(D=E,E=M.createElement({S:"span",Ai:["yt-badge","iv-promo-badge-live"],Ix:"LIVE NOW"})),g.tZ(M.K,"iv-click-target"),N&&KP(M,M.K,N,M.annotation.id,f.session_data,void 0,A),Q.push("iv-promo-video")}D&&M.K.appendChild(D);E&&M.K.appendChild(E);M.W.appendChild(M.K);v&&M.W.appendChild(v);
A=M.createElement({S:"div",Y:"iv-promo-actions"});M.Z=M.createElement({S:"button",Ai:["iv-promo-expand","ytp-button"]});M.Z.title="Expand";M.context.K.listen(M.Z,"click",function(p){hVR(M,5E3,p)});
A.appendChild(M.Z);g.KY(M.Z,!1);M.context.K.listen(M.iI(),"mouseover",M.lZ,M);M.context.K.listen(M.iI(),"mouseout",M.h7,M);M.context.K.listen(M.iI(),"touchend",function(p){hVR(M,5E3,p)});
M.j=M.createElement({S:"button",Ai:["iv-promo-close","ytp-button"]});M.j.title="Close";M.context.K.listen(M.j,"click",M.annotation.style==="cta"&&f.text_line_3?M.M1:M.YS,M);A.appendChild(M.j);g.vv(M.iI(),Q);I&&(g.Ao(M.iI(),I),t&&I.appendChild(t));g.Ao(M.iI(),M.W);g.Ao(M.iI(),A)},hVR=function(M,f,A){A.stopPropagation();
L1C(M);oVe(M,f);M.K.focus()},CPB=function(M){M.isCollapsed||M.X||M.C||(g.tZ(M.iI(),"iv-promo-collapsed"),M.isCollapsed=!0,M.N.start())},L1C=function(M){M.N.stop();
M.isCollapsed&&(g.hZ(M.iI(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),M.isCollapsed=!1,M.K&&M.K.removeAttribute("aria-hidden"),g.KY(M.Z,!1),g.KY(M.j,!0))},oVe=function(M,f){M.C||(M.C=g.Fd(function(){UXK(this);
CPB(this)},f,M))},UXK=function(M){M.C&&(g.Kb.clearTimeout(M.C),M.C=null)},VpR=function(M){this.U=M},GcR=function(M,f,A){f&&(A?Ts(M,f.map(function(Q){return g.z3(Q,A)})):Ts(M,f))},Ts=function(M,f,A,Q){var N=1,Y=void 0,I=-1;
if(A){var D=!1;Y=function(){N--;N||D||(clearTimeout(I),D=!0,A())};
I=setTimeout(function(){D=!0;A()},1E3)}f=g.V(f||[]);
for(var E=f.next();!E.done;E=f.next())E=E.value,N++,g.bg(E,Y);Q&&(N++,Q!==0&&M.U.sendVideoStatsEngageEvent(Q,Y))},al6=function(M){g.CV.call(this,M);
var f=this;this.Er=this.X=!1;this.loadNumber=0;this.G={};this.logger=new VpR(this.player);this.C=new g.yK(this);this.N=this.W=null;this.events=new g.yK(this);this.HK=this.B=this.K=null;this.KJ=[];g.d(this,this.C);this.C.J(this.player,"onVideoAreaChange",function(){f.publish("onVideoAreaChange")});
this.C.J(this.player,"onHideControls",function(){f.publish("onHideControls")});
this.C.J(this.player,"onShowControls",function(){f.publish("onShowControls")});
this.C.J(this.player,"resize",function(Q){f.publish("resize",Q)});
this.C.J(this.player,"presentingplayerstatechange",function(Q){f.publish("presentingplayerstatechange",Q)});
this.subscribe("presentingplayerstatechange",this.dZ,this);this.subscribe("resize",this.EE,this);this.player.T().fJ.subscribe("vast_info_card_add",this.Us,this);g.d(this,this.events);this.jk=this.createElement({S:"div",Y:"video-custom-annotations"});this.Z=new g.O({S:"div",Ai:["ytp-player-content","ytp-iv-player-content"]});g.d(this,this.Z);g.$X(this.player,this.Z.element,4);this.Z.hide();this.j=new g.O({S:"div",Ai:["ytp-iv-video-content"]});g.d(this,this.j);M=this.createElement({S:"div",Y:"video-annotations"});
M.appendChild(this.jk);this.j.element.appendChild(M);this.rA()&&this.load();var A=this.createElement({S:"style"});(g.kR("HEAD")[0]||document.body).appendChild(A);this.addOnDisposeCallback(function(){g.Ya(A)});
if(M=A.sheet)M.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
0),M.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
0),M.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),M.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
0),M.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),M.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0),M.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),M.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
0),M.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),M.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",
0)},qgB=function(M){M=M.createElement({S:"div",
Ai:["annotation","annotation-type-custom"]});g.KY(M,!1);return M},HQB=function(M,f){f=!f.isCued()&&!g.J(f,1024);
M.Z.aE(f);M.j.aE(f)},mXC=function(M,f,A){M.X=!0;
M.N=g.Ba(f,A)},sZ6=function(M,f){for(var A={},Q=g.V(f.attributes),N=Q.next();!N.done;N=Q.next())N=N.value,A[N.name]=N.nodeValue;
for(Q=0;Q<f.childNodes.length;Q++)if(N=f.childNodes[Q],g.Q9(N)&&N.nodeType==1){if(A[N.tagName])var Y=A[N.tagName];else if(N.tagName==="data"){N.childNodes.length>0&&(Y=N.childNodes[0].nodeValue,A[N.tagName]=typeof Y==="string"?Y.trim():Y);continue}else Y=[],A[N.tagName]=Y;N&&N.tagName==="TEXT"?N.childNodes.length===1&&N.childNodes[0].nodeType===3?Y.push(N.childNodes[0].nodeValue):Y.push(""):N&&Y.push(sZ6(M,N))}return A},Bne=function(M){var f=g.F(M.player.getVideoData());
if(f.nJ){var A=M.player.T().fJ.get(f.videoId);if(A){var Q={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(N,Y,I){N=M.loadNumber;Y=f.videoId;M.loaded&&M.loadNumber===N&&M.player.getVideoData().videoId===Y&&(I=g.C0(I)&&I.responseXML?I.responseXML:null)&&cTe(M,I)}};
g.Yk()&&(Q.onFinish=RVW(M,Q.onFinish));Q.postParams={ic_only:"1"};gV0(Q,A);M.X=!0;g.Ba(f.nJ,Q)}}},gV0=function(M,f){M.method="POST";
M.postParams=M.postParams||{};f.tA&&(M.postParams.ic_coll=f.tA);f.Gs&&(M.postParams.ic_xml=f.Gs);f.Vq&&(M.postParams.ic_track=f.Vq)},iQe=function(M){var f=new g.O({S:"div"});
g.KY(f.element,!1);var A=new Wv7(M.player,f.element,D6(M));g.d(A,f);f.pJ(M.Z.element);A.HI();return A},ZQm=function(M,f){var A,Q;
if(f=(A=f.getWatchNextResponse())==null?void 0:(Q=A.cards)==null?void 0:Q.cardCollectionRenderer)M.Er=!0,xXR(M,f),f.headerText&&M.HK&&(A=g.ae(f.headerText),M.HK.setAttribute("title",A))},D6=function(M){if(!M.B){var f=new pER(M);
g.d(M,f);var A=new g.Vp(M);g.d(M,A);M.B=new vVe(f,A,M.player.T(),M.player.getVideoData(),M.logger,M.player,M.H2)}return M.B},cTe=function(M,f){var A=!1,Q=f.getElementsByTagName("annotations");
if(Q&&!(Q.length<1)&&(Q=Q[0].getAttribute("itct"))){var N=g.iH();if(N){var Y=g.Bf();Y&&g.f0(g.K7)(void 0,N,Y,[g.Rz(Q)])}}f=f.getElementsByTagName("annotation");for(Q=0;Q<f.length;Q++){Y=sZ6(M,f[Q]);N=null;try{if(Y){var I=Y.id,D=/.+/;var E=typeof I==="string"&&D!=null&&I!=null&&I.match(D)?I:"";var t=e9(Y.type,rT9),v=e9(Y.style,uXC),p=Bsm(Y.data),h=p.length!==0?JSON.parse(p):{};var S=Y.action;Y=zEC;if(S==null)var L=null;else if(g.AB(S)){D=[];for(var a=g.V(S),q=a.next();!q.done;q=a.next()){var m=Y(q.value);
m&&D.push(m)}L=D}else{var R=Y(S);L=R?[R]:[]}N=E&&t?new P0m(E,t,v,L,h):null}else N=null}catch(Qt){}if(N)if(N.type==="branding"||N.type==="promotion"){Y=M;D=N;var u=qgB(Y),z=null;switch(D.type){case "branding":if(Y.player.T().T_)break;Y.Z.element.appendChild(u);z=new IG(u,D6(Y),D);break;case "promotion":g.$X(Y.player,u,4),z=new p_7(u,D6(Y),D)}z&&z.HI();if(Y=z)g.d(M,Y),M.G[N.id]=Y}else if(N.type==="card"||N.type==="drawer"){M.K||(M.K=iQe(M),g.d(M,M.K));if(N.type==="card"){u=M.K;var e=(A=N)&&A.data&&
A.data.card_type;N=A.data;if(e)switch(Y=N.tracking||{},Y={BR:Y.impression,click:Y.click,close:Y.close,P1:Y.teaser_impression,Nl:Y.teaser_click},D=N.tracking_params||{},z=null,e){case "collaborator":A={id:A.id,timestamp:N.timestamp||0,type:N.card_type,teaserText:N.teaser_text,teaserDurationMs:N.teaser_duration_ms,startMs:N.start_ms,autoOpen:N.auto_open||!1,sessionData:N.session_data||{},sponsored:N.sponsored||!1,pK:Y,vQ:D.card?g.Rz(D.card):null,xm:D.teaser?g.Rz(D.teaser):null,sR:D.icon?g.Rz(D.icon):
null,channelId:N.channel_id,customMessage:N.custom_message?N.custom_message:null,profileImageUrl:N.image_url,title:N.title,metaInfo:N.meta_info,url:kK({pause_on_navigation:N.pause_on_navigation,target:N.target||"new",value:N.url}),onClickCommand:null};M_(u,A);break;case "playlist":A={id:A.id,timestamp:N.timestamp||0,type:N.card_type,teaserText:N.teaser_text,teaserDurationMs:N.teaser_duration_ms,startMs:N.start_ms,autoOpen:N.auto_open||!1,sessionData:N.session_data||{},sponsored:N.sponsored||!1,pK:Y,
vQ:D.card?g.Rz(D.card):null,xm:D.teaser?g.Rz(D.teaser):null,sR:D.icon?g.Rz(D.icon):null,Vh:N.image_url,playlistVideoCount:N.playlist_video_count,customMessage:N.custom_message?N.custom_message:null,title:N.title,metaInfo:N.meta_info,url:g.F(kK({pause_on_navigation:N.pause_on_navigation,target:N.target||"new",value:N.url})),onClickCommand:null};M_(u,A);break;case "productListing":N.signin_url&&(z=kK({target:"current",value:N.signin_url}));e=[];for(var G=N.offers||[],X=0;X<G.length;X++)e.push(new dMm(g.a9(G[X].merchant),
g.a9(G[X].price)));A={id:A.id,timestamp:N.timestamp||0,type:N.card_type,teaserText:N.teaser_text,teaserDurationMs:N.teaser_duration_ms,startMs:N.start_ms,autoOpen:N.auto_open||!1,sessionData:N.session_data||{},sponsored:N.sponsored||!1,pK:Y,vQ:D.card?g.Rz(D.card):null,xm:D.teaser?g.Rz(D.teaser):null,sR:D.icon?g.Rz(D.icon):null,imageUrl:N.image_url,displayDomain:N.display_domain?N.display_domain:null,showLinkIcon:!!N.show_link_icon,wV:N.button_icon_url?N.button_icon_url:null,title:N.title,customMessage:N.custom_message?
N.custom_message:null,url:g.F(kK({pause_on_navigation:N.pause_on_navigation,target:N.target||"new",value:N.url})),xz_:z,DzB:N.signin_title?N.signin_title:void 0,Fb0:N.signin_message?N.signin_message:void 0,offers:e,onClickCommand:null};M_(u,A);break;case "simple":A={id:A.id,timestamp:N.timestamp||0,type:N.card_type,teaserText:N.teaser_text,teaserDurationMs:N.teaser_duration_ms,startMs:N.start_ms,autoOpen:N.auto_open||!1,sessionData:N.session_data||{},sponsored:N.sponsored||!1,pK:Y,vQ:D.card?g.Rz(D.card):
null,xm:D.teaser?g.Rz(D.teaser):null,sR:D.icon?g.Rz(D.icon):null,imageUrl:N.image_url,displayDomain:N.display_domain?N.display_domain:null,showLinkIcon:!!N.show_link_icon,wV:N.button_icon_url?N.button_icon_url:null,title:N.title,customMessage:N.custom_message?N.custom_message:null,url:g.F(kK({pause_on_navigation:N.pause_on_navigation,target:N.target||"new",value:N.url})),onClickCommand:null};M_(u,A);break;case "video":A={id:A.id,timestamp:N.timestamp||0,type:N.card_type,teaserText:N.teaser_text,teaserDurationMs:N.teaser_duration_ms,
startMs:N.start_ms,autoOpen:N.auto_open||!1,sessionData:N.session_data||{},sponsored:N.sponsored||!1,pK:Y,vQ:D.card?g.Rz(D.card):null,xm:D.teaser?g.Rz(D.teaser):null,sR:D.icon?g.Rz(D.icon):null,Vh:N.image_url,videoDuration:N.video_duration||null,customMessage:N.custom_message?N.custom_message:null,title:N.title,metaInfo:N.meta_info,isLiveNow:!!N.is_live_now,url:g.F(kK({pause_on_navigation:N.pause_on_navigation,target:N.target||"new",value:N.url})),onClickCommand:null},M_(u,A)}}else Oam(M.K,N);A=!0}}A&&
(gW(M.player),M.EE())},xXR=function(M,f){var A=!1;
M.K||(M.K=iQe(M),g.d(M,M.K));for(var Q=g.V(f.cards||[]),N=Q.next();!N.done;N=Q.next())N=N.value,N.cardRenderer&&(XEC(M.K,N.cardRenderer),A=!0);if(A){var Y;(Y=M.player.getVideoData())!=null&&g.nk(Y)||(A=M.K,Q=f.headerText?g.ae(f.headerText):"",g.TD(A.Qw,Q),A.X&&A.X.setAttribute("title",Q),A.context.videoData.eventId&&(A.eventId=A.context.videoData.eventId),A.z0=f.trackingParams?g.Rz(f.trackingParams):null,A.W=f.closeButton.infoCardIconRenderer.trackingParams?g.Rz(f.closeButton.infoCardIconRenderer.trackingParams):
null,A.sR=f.icon.infoCardIconRenderer.trackingParams?g.Rz(f.icon.infoCardIconRenderer.trackingParams):null,M.EE());gW(M.player)}},zVm=function(M,f,A,Q,N){if(!M.player.T().T_){var Y=[];
f.navigationEndpoint&&g.b(f.navigationEndpoint,g.iv)&&g.b(f.navigationEndpoint,g.iv).browseId&&Y.push(new Za7("openUrl","click",new ia7("/channel/"+g.b(f.navigationEndpoint,g.iv).browseId,"new",!0,!0)));var I=f.watermark.thumbnails[0];Q={channel_name:f.channelName,end_ms:f.endTimeMs,image_height:I.height,image_type:1,image_url:I.url,image_width:I.width,is_mobile:!1,session_data:{annotation_id:A,ei:N,feature:"iv",itct:f.trackingParams,src_vid:Q},start_ms:f.startTimeMs};if(f.subscribeButton&&g.b(f.subscribeButton,
g.x_)){Q.channel_id=g.b(f.subscribeButton,g.x_).channelId;var D;f=g.b(f.subscribeButton,g.x_);I=N=null;f.subscribed?(f.subscriberCountWithUnsubscribeText&&(N=g.ae(f.subscriberCountWithUnsubscribeText)),f.subscriberCountText&&(I=g.ae(f.subscriberCountText))):(f.subscriberCountText&&(N=g.ae(f.subscriberCountText)),f.subscriberCountWithSubscribeText&&(I=g.ae(f.subscriberCountWithSubscribeText)));var E,t=((E=g.b((D=f.signInEndpoint)==null?void 0:D.commandMetadata,g.aw))==null?void 0:E.url)||"";D={subscribeText:g.ae(f.unsubscribedButtonText),
subscribeCount:N||"",unsubscribeText:g.ae(f.subscribedButtonText),unsubscribeCount:I||"",enabled:f.enabled||!1,classic:!1,subscribed:f.subscribed||!1,feature:"iv",signInUrl:t};Q.standalone_subscribe_button_data=D}Y=new P0m(A,"branding","branding",Y,Q);D=qgB(M);M.Z.element.appendChild(D);Y=new IG(D,D6(M),Y);Y.HI();g.d(Y,Y);M.G[A]=Y}},RVW=function(M,f){return function(){var A=g.jN.apply(0,arguments);
M.ek()||M.KJ.push(g.k6.aY(function(){f.apply(null,g.c(A))}))}},PPv=function(M){return M==="annotation-editor"||M==="live-dashboard"};
g.xX.prototype.Ab=g.If(45,function(M,f){var A=g.rT(this.kp());A&&A.Ab(M,f)});
var iu={},xK=null;g.pm(rW,g.L5);g.C=rW.prototype;g.C.getDuration=function(){return this.duration};
g.C.play=function(M){if(M||this.K==0)this.progress=0,this.coords=this.Z;else if(this.isPlaying())return!1;Zi(this);this.startTime=M=g.EB();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.C=this.startTime;this.progress||this.w4();this.n8("play");this.isPaused()&&this.n8("resume");this.K=1;var f=g.Ye(this);f in iu||(iu[f]=this);YdB();IPe(this,M);return!0};
g.C.stop=function(M){Zi(this);this.K=0;M&&(this.progress=1);Tsm(this,this.progress);this.onStop();this.EW()};
g.C.pause=function(){this.isPlaying()&&(Zi(this),this.K=-1,this.n8("pause"))};
g.C.u8=function(){this.K==0||this.stop(!1);this.n8("destroy");rW.kZ.u8.call(this)};
g.C.destroy=function(){this.dispose()};
g.C.uf=function(){this.n8("animate")};
g.C.n8=function(M){this.dispatchEvent(new DM7(M,this))};
g.pm(DM7,g.wi);g.pm(uu,rW);uu.prototype.j=function(){};
uu.prototype.uf=function(){this.j();uu.kZ.uf.call(this)};
uu.prototype.EW=function(){this.j();uu.kZ.EW.call(this)};
uu.prototype.w4=function(){this.j();uu.kZ.w4.call(this)};
g.pm(EYv,uu);EYv.prototype.j=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.U(pER,g.y);g.C=pER.prototype;g.C.listen=function(M,f,A,Q){A=(0,g.IR)(A,Q||this.Z);M=g.R0(M,f,A);this.K.push(M);return M};
g.C.RR=function(M,f,A,Q){A=(0,g.IR)(A,Q||this.Z);M=QkC(M,f,A);this.K.push(M);return M};
g.C.Hv=function(M){g.g$(M);g.qm(this.K,M)};
g.C.removeAll=function(){g.g$(this.K);this.K.length=0};
g.C.u8=function(){this.removeAll();g.y.prototype.u8.call(this)};g.U(Lvc,g.CV);g.C=Lvc.prototype;g.C.load=function(){g.CV.prototype.load.call(this);if(!nP(this)){var M=g.RjN(this.player.getVideoData());M?(M=Sd7(M,oYc(this)),j9(this,M,!1)):C06(this)}};
g.C.unload=function(){j9(this,null);this.C&&(this.C.abort(),this.C=null);g.CV.prototype.unload.call(this)};
g.C.dc=function(M,f){return nP(this)?M==="loadCustomEndscreenRenderer"?(M=Sd7(f,"new"),j9(this,M),!0):null:null};
g.C.getOptions=function(){return nP(this)?["loadCustomEndscreenRenderer"]:[]};
g.C.Tt=function(){if(this.endscreen&&this.endscreen.elements){var M=this.player.getVideoContentRect();if(M&&M.width!==0&&M.height!==0){var f=this.player.getPlayerSize();if(f&&f.width!==0&&f.height!==0){var A=M.width/M.height;var Q=0;for(var N=-1,Y=0;Y<nV7.length;Y++){var I=Math.abs(f.width-nV7[Y]);if(N===-1||Q>=I)N=Y,Q=I}Q=jZ9[N];this.j&&g.ji(this.j.element,"outline-width",Math.max(f.width,f.height)+"px");for(f=0;f<this.endscreen.elements.length;++f)if(Y=this.endscreen.elements[f].id,N=this.Z[Y],
I=this.G[Y],N&&I){var D=I.width*A/I.aspectRatio,E=Math.round(I.width*M.width);Y=Math.round(D*M.height);var t=M.left+Math.round(I.left*M.width),v=M.top+Math.round(I.top*M.height);g.Xo(N.element,E,Y);g.bW(N.element,t,v);g.hZ(N.element,$Xv);E>256||Y>256?g.tZ(N.element,"ytp-ce-large-round"):E>96||Y>96?g.tZ(N.element,"ytp-ce-medium-round"):g.tZ(N.element,"ytp-ce-small-round");g.hZ(N.element,F1B);E=I.left+I.width/2;I=I.top+D/2;g.tZ(N.element,E<=.5&&I<=.5?"ytp-ce-top-left-quad":E>.5&&I<=.5?"ytp-ce-top-right-quad":
E<=.5&&I>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.hZ(N.element,jZ9);g.tZ(N.element,Q);(N=g.Ol(document,"div","ytp-ce-expanding-overlay-body",N.element)[0])&&g.ji(N,"height",Y+"px")}}}}};
g.C.onCueRangeEnter=function(M){if(this.endscreen)if(M.getId()==="ytp-ce-in-endscreen")dW(this,this.endscreen.impressionUrls),(M=g.iH())&&this.endscreen.visualElement&&g.Ie(M,this.endscreen.visualElement),this.K&&(g.tZ(this.K,"ytp-ce-element-show"),this.K.removeAttribute("aria-hidden"),this.player.kP()?g.tZ(this.K,"ytp-ce-hide-button-lower"):g.p5(this.K,"ytp-ce-hide-button-lower"));else{M=M.getId().substring(15);var f=this.Z[M],A=this.G[M];g.tZ(f.element,"ytp-ce-element-show");f.element.removeAttribute("aria-hidden");
f=this.player.getRootNode();g.tZ(f,"ytp-ce-shown");dW(this,A.impressionUrls);(f=g.iH())&&g.Ie(f,A.visualElement);this.player.T().X&&this.player.T0("endscreenelementshown",M)}};
g.C.onCueRangeExit=function(M){if(M.getId()==="ytp-ce-in-endscreen")this.K&&(g.p5(this.K,"ytp-ce-element-show"),this.K.setAttribute("aria-hidden","true"));else{M=M.getId().substring(15);var f=this.Z[M];g.p5(f.element,"ytp-ce-element-show");f.element.setAttribute("aria-hidden","true");f=this.player.getRootNode();g.p5(f,"ytp-ce-shown");this.player.T().X&&this.player.T0("endscreenelementhidden",M)}};
g.C.ozN=function(M){var f=this;M.target===window&&(new g.MY(function(){for(var A=g.V(Object.values(f.Z)),Q=A.next();!Q.done;Q=A.next())g.hZ(Q.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.C.aE=function(M){for(var f=g.V(Object.values(this.Z)),A=f.next();!A.done;A=f.next())A=A.value,M?A.element.setAttribute("hidden",""):A.element.removeAttribute("hidden")};
g.C.ak_=function(M){this.K&&this.player.getRootNode().removeChild(this.K);M&&(g.tZ(M,"ytp-ce-hide-button-container"),this.K=M,g.$X(this.player,this.K,4))};
var nV7=[346,426,470,506,570,640,853,1280,1920],jZ9="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),F1B=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],$Xv=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var xMw={L5$:"current",nrx:"new"};var rnB={CLOSE:"close",VvJ:"openUrl",SUBSCRIBE:"subscribe"},u5m={G7k:"click",CLOSE:"close",F27:"hidden",ACk:"rollOut",fH0:"rollOver",VTx:"shown"};P0m.prototype.mf=function(){var M=nYR(this,function(f){return f.type==="openUrl"&&f.url!=null});
return M?M.url:null};
var uXC={YCr:"anchored",R0:"branding",CHANNEL:"channel",aXx:"cta",BuY:"highlightText",YvJ:"label",PLAYLIST:"playlist",POPUP:"popup",JC3:"speech",SUBSCRIBE:"subscribe",BDY:"title",VIDEO:"video",O8N:"website"},rT9={R0:"branding",SJ7:"card",tU3:"drawer",x4Y:"highlight",Eri:"marker",skr:"promotion",TEXT:"text",HZ3:"widget"};g.U(JN,g.y);g.C=JN.prototype;g.C.addCueRange=function(M,f,A,Q,N){M=new g.T1(M,f,{id:A,namespace:"annotations_module"});Q&&this.YO.set(M,Q);N&&this.Ji.set(M,N);this.context.U.L3([M],1)};
g.C.HI=function(){this.context.Z.subscribe("resize",this.d3,this)};
g.C.iI=function(){return this.element};
g.C.kX=function(M,f,A,Q,N,Y){if(this.b8)return!1;Y&&(Y.stopPropagation(),Y.preventDefault());this.navigate(M,A,Q,N);return!1};
g.C.show=function(){};
g.C.hide=function(){};
g.C.destroy=function(){g.Ya(this.iI())};
g.C.d3=function(){};
g.C.navigate=function(M,f,A,Q){var N=this,Y=bu(M);if(Y){var I=baW(Y,M.target),D=function(){M.K&&N.context.U.pauseVideo();var E=N.context.videoData.XR||!1,t=g.TA(Y||"");E&&t&&(t.v||t.list)?N.context.U.x7(t.v,f,t.list,!1):g.XV(Y||"",I==="current"?"_top":void 0,f)};
I==="new"&&(D(),D=null);Ts(this.context.logger,A,D,Q);eEm(Y)||(A=g.iH(),Q=f.itct,A&&Q&&g.Ev(A,g.Rz(Q)))}};
g.C.u8=function(){this.YO.clear();this.Ji.clear();g.y.prototype.u8.call(this)};
g.C.createElement=function(M){M=new g.O(M);g.d(this,M);return M.element};g.U(Wv7,JN);g.C=Wv7.prototype;g.C.q_=function(){this.KJ&&M_(this,this.KJ)};
g.C.isAvailable=function(){var M;if(M=!!this.cards.length)(M=this.U.getRootNode())?(M=g.J9(M),M=173<M.width&&173<M.height):M=!1;return M};
g.C.d3=function(){var M=this.isAvailable();g.KY(this.iI(),M);g.Sb(this.context.U.getRootNode(),g.Qc.IV_DRAWER_ENABLED,M);gW(this.U)};
g.C.destroy=function(){this.U.Ab(!1);try{this.U.getRootNode().removeChild(this.C)}catch(M){}g.EC(this.Er);g.u$(this.nJ);this.ox&&this.ox.dispose();this.N&&this.N.dispose();JN.prototype.destroy.call(this)};
g.C.Tz=function(){var M=this;this.context.K.listen(g.XF("iv-drawer-close-button",this.C),"click",this.vj,this);this.context.K.listen(this.Z,"touchend",function(){M.P7.start()});
this.context.K.listen(this.Z,"scroll",this.jY,this);this.context.Z.subscribe("onHideControls",function(){M.fJ=!0});
this.context.Z.subscribe("onShowControls",function(){M.fJ=!1});
this.context.Z.subscribe("onVideoAreaChange",function(){M.fJ=g.ED(M.U.getRootNode(),"ytp-autohide")});
this.Er.push(g.Dy("iv-button-shown",this.sF,this));this.Er.push(g.Dy("iv-button-hidden",this.BZ,this));lPR(this)};
g.C.findLastIndex=function(M){if(this.cards.length===0)return 0;var f=g.Cm(this.cards,function(A){return M.bU.startMs>A.bU.startMs||M.bU.startMs===A.bU.startMs&&M.bU.timestamp>=A.bU.timestamp?!0:!1});
return f===-1?0:f+1};
g.C.vj=function(){if(this.j){Ts(this.context.logger,N_(this).pK.close);var M=g.iH();M&&this.W&&g.Ev(M,this.W);lu(this)}};
g.C.jY=function(){g.Sb(this.C,"iv-drawer-scrolled",this.Z.scrollTop>0)};
g.C.sF=function(){var M=g.iH(),f=N_(this);f=f?f.sR:this.sR;M&&f&&g.To(M,[f])};
g.C.BZ=function(){var M=g.iH(),f=N_(this);f=f?f.sR:this.sR;M&&f&&g.DJ(M,[f])};
g.C.QE=function(){var M=N_(this);Ts(this.context.logger,M.pK.P1);var f=g.iH();if(f&&M)if(this.U.V("web_infocards_teaser_show_logging_fix")){var A=[];M.xm&&A.push(M.xm);M.sR&&A.push(M.sR);A.length>0&&g.To(f,A)}else g.To(f,[M.xm,M.sR])};
g.C.QxN=function(){var M=g.iH(),f=N_(this);M&&f&&g.DJ(M,[f.xm])};
g.C.s4=function(M){var f=N_(this),A=g.iH();this.K?M?(M=this.context.logger,Ts(M,f.pK.Nl),M.U.sendVideoStatsEngageEvent(4,void 0),A&&f.xm&&g.Ev(A,f.xm)):(M=this.context.logger,Ts(M,f.pK.Nl),M.U.sendVideoStatsEngageEvent(4,void 0),A&&f.sR&&g.Ev(A,f.sR)):(M=this.context.logger,Ts(M,f.pK.Nl),M.U.sendVideoStatsEngageEvent(4,void 0),A&&this.sR&&g.Ev(A,this.sR))};g.U(Y4,JN);Y4.prototype.HI=function(){JN.prototype.HI.call(this);Il9(this)};
Y4.prototype.show=function(){JN.prototype.show.call(this);var M=g.iH(),f=this.annotation.data;M&&f&&(f=f.session_data)&&g.To(M,[g.Rz(f.itct)])};
Y4.prototype.hide=function(){JN.prototype.hide.call(this);var M=g.iH(),f=this.annotation.data;M&&f&&(f=f.session_data)&&g.DJ(M,[g.Rz(f.itct)])};g.U(IG,Y4);
IG.prototype.show=function(){if(!this.isActive){Y4.prototype.show.call(this);if(!this.W){g.tZ(this.iI(),"iv-branding");var M=this.annotation.data;this.Z=this.createElement({S:"img",Ai:["branding-img","iv-click-target"],D:{"aria-label":"Channel watermark",src:M.image_url,width:M.image_width,height:M.image_height}});g.KY(this.Z,!1);var f=this.createElement({S:"button",Ai:["branding-img-container","ytp-button"]});f.appendChild(this.Z);this.iI().appendChild(f);var A=this.annotation.mf();A&&KP(this,f,
A,this.annotation.id,M.session_data);this.context.U.V("disable_branding_context")||tpC(this,M);this.W=!0}g.KY(this.iI(),!0);this.isActive=!0;if(this.Z){try{Tnm(this,this.Z)}catch(Q){}g.tZ(this.context.U.getRootNode(),"ytp-branding-shown");this.context.U.getRootNode().style.setProperty("--branding-image-width",this.Z.getAttribute("width")+"px")}}};
IG.prototype.hide=function(){this.isActive&&(Y4.prototype.hide.call(this),g.KY(this.iI(),!1),this.isActive=!1,g.p5(this.context.U.getRootNode(),"ytp-branding-shown"))};
IG.prototype.destroy=function(){this.K&&(this.K.dispose(),this.K=null);g.p5(this.context.U.getRootNode(),"ytp-branding-shown");Y4.prototype.destroy.call(this)};g.U(p_7,Y4);g.C=p_7.prototype;g.C.show=function(){this.isActive||(Y4.prototype.show.call(this),this.B||(Sge(this),this.B=!0),g.KY(this.iI(),!0),g.Fd(function(){g.p5(this.iI(),"iv-promo-inactive")},100,this),this.iI().removeAttribute("aria-hidden"),this.isActive=!0,UXK(this),L1C(this),oVe(this,this.G))};
g.C.hide=function(){this.isActive&&(g.tZ(this.iI(),"iv-promo-inactive"),this.isActive=!1,this.iI().setAttribute("aria-hidden","true"))};
g.C.kX=function(M,f,A,Q,N,Y){return this.isCollapsed?!1:Y4.prototype.kX.call(this,M,f,A,Q,N,Y)};
g.C.lZ=function(M){this.X=!0;hVR(this,500,M)};
g.C.h7=function(){this.X=!1;CPB(this)};
g.C.YS=function(M){M.stopPropagation();this.hide()};
g.C.M1=function(M){M.stopPropagation();UXK(this);this.isCollapsed=!0;g.tZ(this.iI(),"iv-promo-collapsed-no-delay");this.N.start()};
g.C.destroy=function(){this.N.dispose();Y4.prototype.destroy.call(this)};g.U(al6,g.CV);g.C=al6.prototype;g.C.dc=function(M,f){if(!PPv(this.player.T().playerStyle))return null;switch(M){case "loadCustomAnnotationsXml":return(M=g.KT(f))&&cTe(this,M),!0;case "removeCustomAnnotationById":return f&&this.K&&(Kv6(this.K,f),gW(this.player)),!0}return null};
g.C.getOptions=function(){return PPv(this.player.T().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.C.rA=function(){var M=this.player.T(),f=g.F(this.player.getVideoData()),A=M.annotationsLoadPolicy||f.annotationsLoadPolicy;return g.fv(f)||this.player.isMutedByEmbedsMutedAutoplay()?!1:A===1&&!f.CE||M.fJ.get(f.videoId)||g.jd(f)||g.$_(f)?!0:!1};
g.C.EE=function(){if(this.j){var M=this.player.ax().getVideoContentRect(!0);g.Xo(this.j.element,M.width,M.height);g.bW(this.j.element,M.left,M.top)}if(this.K){var f=this.player.GH();M=this.K;f=f.width;g.Sb(M.C,"iv-drawer-small",f<=426);g.Sb(M.C,"iv-drawer-big",f>=1280)}};
g.C.dZ=function(M){HQB(this,M.state);g.J(M.state,2)&&(this.kP()&&this.R_()&&this.player.getPresentingPlayerType()!==2&&this.fD(!1),this.Ab(!1))};
g.C.load=function(){function M(I){var D=f.loadNumber;f.N=null;f.loaded&&f.loadNumber===D&&f.player.getVideoData().videoId===Q&&(I=g.C0(I)&&I.responseXML?I.responseXML:null)&&(cTe(f,I),g.tZ(f.player.getRootNode(),"iv-module-loaded"))}
var f=this;g.CV.prototype.load.call(this);HQB(this,this.player.getPlayerStateObject());this.loadNumber++;var A=g.F(this.player.getVideoData()),Q=A.videoId;g.Yk()&&(M=RVW(this,M));var N={format:"XML",onFinish:M,onError:function(){f.N=null},
urlParams:{}};A.isPharma&&(N.urlParams.pharma="1");N.method="POST";N.withCredentials=!0;var Y=this.player.T().fJ.get(Q);Y&&gV0(N,Y);Y=Y&&(Y.Gs||Y.tA);if(!A.E2||Y)A.nJ?mXC(this,A.nJ,N):(this.W=function(){if(!f.X)f.onVideoDataChange(N);var I=g.F(f.player.getVideoData());(I==null?0:g.nk(I))&&!f.Er&&ZQm(f,I)},this.player.addEventListener("videodatachange",this.W));
g.$X(this.player,this.j.element,4);this.EE();(Y=g.jd(A))&&xXR(this,Y);(Y=g.$_(A))&&Y.featuredChannel&&zVm(this,Y.featuredChannel,Y.annotationId||"branding",A.videoId||null,A.eventId||null);this.HK=g.XF("ytp-cards-button",this.player.getRootNode());g.nk(A)&&ZQm(this,A)};
g.C.onVideoDataChange=function(M){var f=g.F(this.player.getVideoData());f.nJ&&mXC(this,f.nJ,M)};
g.C.unload=function(){this.player.GU("annotations_module");for(var M=g.V(Object.keys(this.G)),f=M.next();!f.done;f=M.next())this.G[f.value].destroy();this.B=null;this.K&&(this.K.destroy(),this.K=null,gW(this.player));this.X=!1;this.N&&(this.N.abort(),this.N=null);this.Er=!1;this.G={};this.Z.hide();g.CV.prototype.unload.call(this);this.j.detach();this.W&&(this.player.removeEventListener("videodatachange",this.W),this.W=null)};
g.C.Us=function(M){M===this.player.getVideoData().videoId&&(this.loaded?Bne(this):this.load())};
g.C.kP=function(){var M;return((M=this.K)==null?void 0:M.isAvailable())||this.Er};
g.C.R_=function(){return!!this.K&&this.K.j};
g.C.fD=function(M,f,A){f=f===void 0?!1:f;this.kP();this.K&&(M?A?wW(this.K,A,f):wW(this.K,"YOUTUBE_DRAWER_AUTO_OPEN",f):lu(this.K))};
g.C.Ab=function(M,f){this.player.publish(M?"cardsteasershow":"cardsteaserhide",f)};
g.C.u8=function(){this.player.T().fJ.unsubscribe("vast_info_card_add",this.Us,this);g.p5(this.player.getRootNode(),g.Qc.IV_DRAWER_OPEN);for(var M=this.KJ,f=g.k6,A=0,Q=M.length;A<Q;A++)f.i5(M[A]);this.KJ.length=0;g.CV.prototype.u8.call(this)};
g.C.createElement=function(M){M=new g.O(M);g.d(this,M);return M.element};g.oW("annotations_module",al6);g.oW("creatorendscreen",Lvc);})(_yt_player);
